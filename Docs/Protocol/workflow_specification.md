# Linear工作流规范 (v1.0)

**文档版本**: 1.0  
**最后更新**: 2025-11-28  
**作者**: Manus AI

---

## 1. 核心理念：两阶段分离

为了适应不同协作场景，我们采用**两阶段分离**的工作流模式，将纯粹的“规划设计”与“编码实现”明确分开。这使得您（项目总监）可以在任何设备上、任何时间与“架构师Manus”进行高效的设计迭代，而无需依赖具体的开发环境。

- **设计阶段 (`Workflow::Design`)**: 专注于“做什么”和“为什么做”，产出是清晰的设计文档和面向开发的MHP。
- **实现阶段 (`Workflow::Implementation`)**: 专注于“怎么做”，接收MHP作为输入，产出是经过验证的可合并代码。

## 2. 实现机制：标签与状态

我们利用Linear的`Labels`和`Statuses`来构建这两个并行但又相互关联的工作流。

### 2.1. 核心工作流标签 (Labels)

我们创建了两个新的全局标签来区分任务类型：

| 标签 (Label) | 颜色 | 描述 |
|:---|:---:|:---|
| `Workflow::Design` | 蓝色 | 用于所有与规划、架构、游戏设计、文档编写相关的任务。这类任务**不**需要UE5开发环境。 |
| `Workflow::Implementation` | 绿色 | 用于所有与编码、资产集成、调试、测试相关的任务。这类任务**需要**UE5开发环境。 |

### 2.2. 任务状态 (Statuses)

为这两个工作流分别定义不同的状态集，以清晰地反映其生命周期。

#### 设计工作流状态 (`Workflow::Design`)

| 状态 (Status) | 描述 |
|:---|:---|
| `Backlog` | 想法或需求被记录，但尚未排入议程。 |
| `Todo` | 已被确认为有价值的需求，等待设计和规划。 |
| `In Discussion` | 用户与“架构师Manus”正在积极讨论、细化设计方案。 |
| **`Design Complete`** | **关键里程碑**。设计方案已敲定，相关的技术文档和MHP（面向实现）已准备就绪。 |
| `Canceled` | 设计需求被取消。 |

#### 实现工作流状态 (`Workflow::Implementation`)

| 状态 (Status) | 描述 |
|:---|:---|
| `Todo` | 开发任务已准备就绪，附有详细的MHP，等待“开发者Manus”或人类开发者领取。 |
| `In Progress` | 任务已被领取，正在进行编码或实现工作。 |
| `In Review` | Pull Request已提交，代码等待您的审核。 |
| **`Done`** | **关键里程碑**。PR已合并，功能已集成到主分支。 |
| `Canceled` | 开发任务被取消。 |

## 3. 标准协作流程

1.  **想法诞生 (您)**: 您在Linear中创建一个新Issue，标题为“设计：新的任务系统”，并为其打上`Workflow::Design`标签，放入`Todo`状态。

2.  **设计迭代 (您 + 架构师Manus)**: 您随时可以发起一个新对话，与“架构师Manus”讨论这个Issue。Issue状态变为`In Discussion`。我们共同丰富设计文档（在GitHub仓库的`docs`目录中）。

3.  **设计定稿 (架构师Manus)**: 设计完成后，“架构师Manus”将该Issue状态更新为`Design Complete`。同时，生成一份详细的、面向开发者的**MHP**，并将其附加到该Issue的评论中。

4.  **开发任务拆分 (架构师Manus)**: “架构师Manus”基于定稿的MHP，将设计任务拆解成一个或多个可执行的开发任务。例如，创建新的Issue，标题为“实现：任务数据结构”，并为其打上`Workflow::Implementation`标签，放入`Todo`状态，并链接到父设计任务。

5.  **开发执行 (开发者Manus)**: 当您准备好进行开发时，可以发起一个新对话，将具体的开发任务ID（如`PROJ-124`）指派给“开发者Manus”。“开发者Manus”领取任务，状态变为`In Progress`，然后开始编码。

6.  **代码审核 (您)**: 开发完成后，“开发者Manus”提交PR，任务状态自动变为`In Review`。您审核代码。

7.  **任务完成 (自动化)**: 您合并PR后，任务状态自动更新为`Done`。

## 4. 优势

- **场景分离**: 完美支持您在移动设备上进行头脑风暴和设计决策。
- **职责清晰**: “架构师Manus”专注于“做什么”和“为什么做”，“开发者Manus”专注于“怎么做”。
- **上下文隔离**: 设计讨论的上下文不会干扰开发任务，开发任务的上下文也高度聚焦于MHP，使AI工作更高效。
- **异步协作**: 您可以在任何时间点“暂停”设计，或“启动”开发，两者互不阻塞。

## 5. 配置指南

为了在您的Linear工作区中实现此工作流，需要进行以下配置：

### 5.1. 创建标签

请在Linear的`Settings > Workspace > Labels`中创建以下两个标签：

- **Name**: `Workflow::Design`
- **Color**: Blue (`#0077FF`)
- **Name**: `Workflow::Implementation`
- **Color**: Green (`#2ECC71`)

### 5.2. 创建状态（可选）

Linear的默认状态（`Backlog`, `Todo`, `In Progress`, `In Review`, `Done`, `Canceled`）已经可以很好地支持这个工作流。如果您希望更明确地区分设计和实现的状态，可以为您的团队创建自定义状态。例如，创建一个名为`Design Complete`的状态。

**建议**：在初期，我们可以先使用默认状态，待流程跑通后再根据需要进行优化。

---

**本文档是人机协同开发体系的核心组成部分，所有协作者（包括人类和AI）都必须遵守。**
